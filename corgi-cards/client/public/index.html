<!DOCTYPE html>
<html>
<head>
  <title>CORGI CARDS: WITH A VENGEANCE</title>
  <link rel="stylesheet" href="stylesheets/styles.css" type="text/css" media="screen" charset="utf-8">
  <link rel="stylesheet" href="stylesheets/animate.css" type="text/css" media="screen" charset="utf-8">

</head>

<body>

  <article id="board" data-bind="with: board, droppable: {accept: '.hand', drop: board.dropCard, click: board.handleBoardClick}">
    <!-- ko foreach: cards -->
        <div class="card" data-bind="draggable:
          {dragstop: $parent.dragstop, enabled: isMine},
          attr: {id: id},
          css: {
            monster: type() == 'monster',
            spell: type() == 'spell',
            action: $parent.action() == $data,
            target: $parent.target() == $data},
          click: $parent.handleCardClick
          ">

          <span data-bind="text:name + '  ' + stats.attack() + '  ' + stats.health() + ' (' + stats.cost() + ')'"></span>
          <!-- ko if: takingDamage -->
              <div class="yougotfucked animated fadeOutUpBig" data-bind="text: takingDamage"></div>
            <!-- /ko -->
          </div>
    <!-- /ko -->
  </article>

  <!-- ko with: self -->
    <!-- ko foreach: hand -->
        <div class="card hand" data-bind="text:name + '  ' + stats.attack() + '  ' + stats.health() + ' (' + stats.cost() + ')', draggable: {dragstop: $parent.dragstop, enabled: isMine}, attr: {id: id},
        css: {
          monster: type() == 'monster',
          spell: type() == 'spell'}"></div>
    <!-- /ko -->

    <!-- ko foreach: opponentHand -->
      <div class="card opponent" data-bind="attr: {id: id}"></div>
    <!-- /ko -->

  <!-- /ko -->

  <aside id="self" class="player" data-bind="
  click: board.handleSelfClick,
  css: {active: board.target() == 'self'},
  with: self">
    <div class="lifeTotal" data-bind="text: 'You: ' + life()"></div>
    <!-- ko if: diff -->
      <div class="yougotfucked animated fadeOutUpBig" data-bind="text: diff"></div>
    <!-- /ko -->

    <aside class="resources">
      <div class="count strength" data-bind="text: 'Strength: ' + strengthCount()"></div>
      <div class="count intel" data-bind="text: 'Intel: ' + intelCount()"></div>
      <div class="addResource strength" data-bind="click: addStrength, visible: !haveUsedResource()">+</div>
      <div class="addResource intel" data-bind="click: addIntel, visible: !haveUsedResource()">+</div>
    </aside>

  </aside>


  <aside id="opponent" class="player" data-bind="
    click: board.handleOpponentClick,
    css: {active: board.target() == 'opponent'},
    with: opponent">
    <div class="lifeTotal" data-bind="text: 'Opponent: ' + life()"></div>
    <!-- ko if: diff -->
      <div class="yougotfucked animated fadeOutUpBig" data-bind="text: diff"></div>
    <!-- /ko -->

    <aside class="resources">
      <div class="count strength" data-bind="text: 'Strength: ' + strengthCount()"></div>
      <div class="count intel" data-bind="text: 'Intel: ' + intelCount()"></div>
    </aside>

  </aside>

  <div class="endTurn" data-bind="click: endTurn, visible: activeTurn">End Turn</div>



  <article class="login">
    <input type="text" placeholder="username" data-bind="
      value: username,
      valueUpdate: 'afterkeydown',
      event: { keypress: login }">
    <br>
    <br>
    <input type="text" placeholder="room#" data-bind="
      value: room,
      valueUpdate: 'afterkeydown',
      event: { keypress: join }">
  </article>


  <script src="javascripts/socket.io.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.0.0/knockout-min.js"></script>
  <script type="text/javascript" src="http://code.createjs.com/createjs-2013.09.25.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>
  <script type="text/javascript" src="javascripts/main.js"></script>

</body>

</html>
